{"ast":null,"code":"import _classCallCheck from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/malshanw/Documents/ColaProjects/orderapp/application/src/components/orderDetailView.component.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nvar config = require('../config.json');\n\nvar OrderDetailView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(OrderDetailView, _Component);\n\n  function OrderDetailView(props) {\n    var _this;\n\n    _classCallCheck(this, OrderDetailView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(OrderDetailView).call(this, props));\n\n    _this.onChangeOrderName = function (e) {\n      _this.setState({\n        order_name: e.target.value\n      });\n    };\n\n    _this.onChangeOrderName = _this.onChangeOrderName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeItemName = _this.onChangeItemName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeQuantity = _this.onChangeQuantity.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeUnitValue = _this.onChangeUnitValue.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeCustomerName = _this.onChangeCustomerName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeAddress = _this.onChangeAddress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addItem = _this.addItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.alertAndTimeout = _this.alertAndTimeout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      order_name: _this.props.order.order_name,\n      item_name: '',\n      address: '',\n      customer_name: '',\n      grand_total: 0.00,\n      quantity: 0.0,\n      unit_value: 0.0,\n      subtot: 0.0,\n      item_set: _this.props.order.items,\n      item_number: 0,\n      new_item_obj: {},\n      user_data: JSON.parse(localStorage.getItem('user_data')),\n      alert_type: \"\",\n      alert_message: \"\",\n      alerting: false\n    };\n    return _this;\n  } //on change input handlers\n\n\n  _createClass(OrderDetailView, [{\n    key: \"onChangeItemName\",\n    value: function onChangeItemName(e) {\n      this.setState({\n        item_name: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeQuantity\",\n    value: function onChangeQuantity(e) {\n      var _this2 = this;\n\n      this.setState({\n        quantity: e.target.value\n      }, function () {\n        return _this2.setState({\n          subtot: _this2.state.unit_value * _this2.state.quantity\n        });\n      });\n    }\n  }, {\n    key: \"onChangeUnitValue\",\n    value: function onChangeUnitValue(e) {\n      var _this3 = this;\n\n      this.setState({\n        unit_value: e.target.value,\n        subtot: this.state.unit_value * this.state.quantity\n      }, function () {\n        return _this3.setState({\n          subtot: _this3.state.unit_value * _this3.state.quantity\n        });\n      });\n    }\n  }, {\n    key: \"onChangeSubTot\",\n    value: function onChangeSubTot(e) {\n      this.setState({\n        subtot: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeCustomerName\",\n    value: function onChangeCustomerName(e) {\n      this.setState({\n        customer_name: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeAddress\",\n    value: function onChangeAddress(e) {\n      this.setState({\n        address: e.target.value\n      });\n    } //adding items to item list\n\n  }, {\n    key: \"addItem\",\n    value: function addItem() {\n      var new_item_obj = {\n        item_number: this.state.item_number,\n        item_name: this.state.item_name,\n        quantity: this.state.quantity,\n        unit_value: this.state.unit_value,\n        subtot: this.state.subtot\n      };\n      this.setState({\n        item_number: this.state.item_number + 1,\n        item_set: this.state.item_set.concat(new_item_obj),\n        grand_total: this.state.grand_total + this.state.subtot,\n        item_name: '',\n        quantity: 0.0,\n        unit_value: 0.0,\n        subtot: 0.0\n      });\n    } //removing item\n\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(item_id) {\n      console.log(item_id); // this.setState({\n      //   item_number : this.state.item_number+1,\n      //   item_set : this.state.item_set.concat(new_item_obj),\n      //   grand_total:this.state.grand_total+this.state.subtot,\n      //   item_name : '',\n      //   quantity : 0.0,\n      //   unit_value : 0.0,\n      //   subtot : 0.0\n      // });   \n    }\n  }, {\n    key: \"onChangeGstNumber\",\n    value: function onChangeGstNumber(e) {\n      this.setState({\n        business_gst_number: e.target.value\n      });\n    } //alerting function\n\n  }, {\n    key: \"alertAndTimeout\",\n    value: function alertAndTimeout(type, message) {\n      var _this4 = this;\n\n      this.setState({\n        alerting: true,\n        alert_type: type,\n        alert_message: message\n      }, function () {\n        return setTimeout(function () {\n          this.setState({\n            alerting: false,\n            alert_type: \"\",\n            alert_message: \"\"\n          });\n        }.bind(_this4), 5000);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var grandtot = 0.00;\n      this.state.item_set.map(function (item) {\n        grandtot += item.subtot;\n      });\n      this.setState({\n        grand_total: grandtot\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this5 = this;\n\n      e.preventDefault();\n      var obj = {\n        order_name: this.state.order_name,\n        items: this.state.item_set,\n        grand_total: this.state.grand_total,\n        customer_name: this.state.customer_name,\n        address: this.state.address\n      };\n\n      if (this.state.user_data === null) {\n        this.props.history.push('/login');\n      } else {\n        var access_token = this.state.user_data.orderapp_user_token;\n        var createOrder = {\n          method: 'post',\n          headers: {\n            Authorization: \"Bearer \" + access_token\n          },\n          data: obj,\n          url: config.ServerAddress + '/order/add'\n        };\n        axios(createOrder).then(function (response) {\n          if (response.data.message === \"sessionExpired\") {\n            _this5.props.handleLogout();\n\n            _this5.props.history.push('/login');\n          } else {\n            if (response.data.order === \"order_successfull\") {\n              _this5.setState({\n                customer_name: '',\n                order_name: '',\n                item_set: [],\n                address: ''\n              }, function () {\n                return _this5.alertAndTimeout(\"success\", \"Order Recorder Succefully !\");\n              });\n            } else if (response.data === \"order_fail\") {\n              _this5.alertAndTimeout(\"danger\", \"Order Failed !\");\n            }\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      console.log(this.state.item_set);\n\n      if (this.state.user_data === null || this.state.user_data === undefined) {\n        this.props.history.push('/login');\n      }\n\n      var successful_alert = React.createElement(\"div\", {\n        className: \"row \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"alert alert-\" + this.state.alert_type,\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, this.state.alert_message)), React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }));\n      return React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, this.state.alerting && this.state.alert_type && successful_alert, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Add New Order\"), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Order Name:  \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.order_name,\n        onChange: this.onChangeOrderName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Items:\"), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-l-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"td\", {\n        className: \"col-l-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"Quantity\"), React.createElement(\"td\", {\n        className: \"col-l-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"Unit Price $\"), React.createElement(\"td\", {\n        className: \"col-l-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"Sub Total\"), React.createElement(\"td\", {\n        className: \"col-l-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, this.state.item_set.map(function (item) {\n        return React.createElement(\"tr\", {\n          key: item.item_number,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"name-\".concat(_this6.props.index),\n          value: item.item_name,\n          onChange: _this6.onChangeItemName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"number\",\n          className: \"form-control\",\n          name: \"quantity-\".concat(_this6.props.index),\n          value: item.quantity,\n          onChange: _this6.onChangeQuantity,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"number\",\n          className: \"form-control\",\n          name: \"unitvalue-\".concat(_this6.props.index),\n          value: item.unit_value,\n          onChange: _this6.onChangeUnitValue,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"subtot-\".concat(_this6.props.index),\n          readOnly: true,\n          value: item.subtot,\n          onChange: _this6.onChangeSubTot,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"close\",\n          onClick: _this6.removeItem.bind(_this6, item._id),\n          \"aria-label\": \"Close\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, \"\\xD7\"))));\n      }), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      })), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"name-\".concat(this.props.index),\n        value: this.state.item_name,\n        onChange: this.onChangeItemName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        name: \"quantity-\".concat(this.props.index),\n        value: this.state.quantity,\n        onChange: this.onChangeQuantity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        name: \"unitvalue-\".concat(this.props.index),\n        value: this.state.unit_value,\n        onChange: this.onChangeUnitValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"subtot-\".concat(this.props.index),\n        readOnly: true,\n        value: this.state.subtot,\n        onChange: this.onChangeSubTot,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-success\",\n        onClick: this.addItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"Add\")))))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Total\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, this.state.grand_total)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"Customer Name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.customer_name,\n        onChange: this.onChangeCustomerName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, \"Address: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.address,\n        onChange: this.onChangeAddress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Place Order\",\n        className: \" btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return OrderDetailView;\n}(Component);\n\nexport { OrderDetailView as default };","map":{"version":3,"sources":["/home/malshanw/Documents/ColaProjects/orderapp/application/src/components/orderDetailView.component.jsx"],"names":["React","Component","axios","config","require","OrderDetailView","props","onChangeOrderName","e","setState","order_name","target","value","bind","onChangeItemName","onChangeQuantity","onChangeUnitValue","onChangeCustomerName","onChangeAddress","addItem","alertAndTimeout","onSubmit","state","order","item_name","address","customer_name","grand_total","quantity","unit_value","subtot","item_set","items","item_number","new_item_obj","user_data","JSON","parse","localStorage","getItem","alert_type","alert_message","alerting","concat","item_id","console","log","business_gst_number","type","message","setTimeout","grandtot","map","item","preventDefault","obj","history","push","access_token","orderapp_user_token","createOrder","method","headers","Authorization","data","url","ServerAddress","then","response","handleLogout","catch","error","undefined","successful_alert","marginTop","index","onChangeSubTot","removeItem","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst config = require('../config.json');\n\nexport default class OrderDetailView extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.onChangeOrderName = this.onChangeOrderName.bind(this);\n    this.onChangeItemName = this.onChangeItemName.bind(this);\n    this.onChangeQuantity = this.onChangeQuantity.bind(this);\n    this.onChangeUnitValue = this.onChangeUnitValue.bind(this);\n    this.onChangeCustomerName = this.onChangeCustomerName.bind(this);\n    this.onChangeAddress = this.onChangeAddress.bind(this);\n    this.addItem = this.addItem.bind(this);\n    this.alertAndTimeout = this.alertAndTimeout.bind(this);  \n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      order_name: this.props.order.order_name,\n      item_name: '',\n      address:'',\n      customer_name:'',\n      grand_total:0.00,\n      quantity:0.0,\n      unit_value:0.0,\n      subtot:0.0,\n      item_set:this.props.order.items,\n      item_number:0,\n      new_item_obj:{},\n      user_data:JSON.parse(localStorage.getItem('user_data')),\n      alert_type:\"\",\n      alert_message:\"\",\n      alerting : false\n    }\n  }\n\n  //on change input handlers\n  onChangeOrderName = (e)=> {\n    this.setState({order_name: e.target.value});\n  };\n  onChangeItemName(e) {\n    this.setState({item_name: e.target.value});  \n  }\n  onChangeQuantity(e) {  \n    this.setState({quantity: e.target.value,},()=>this.setState({\n      subtot:this.state.unit_value * this.state.quantity\n    }));\n  }\n  onChangeUnitValue(e) {\n    this.setState({\n      unit_value: e.target.value,\n      subtot:this.state.unit_value * this.state.quantity\n    },()=>this.setState({\n      subtot:this.state.unit_value * this.state.quantity\n    }));\n  }\n  onChangeSubTot(e) {\n    this.setState({subtot: e.target.value});\n  }\n  onChangeCustomerName(e) {\n    this.setState({customer_name: e.target.value});\n  }\n  onChangeAddress(e){\n    this.setState({ address:e.target.value});\n  }\n\n  //adding items to item list\n  addItem(){\n    const new_item_obj={\n      item_number:this.state.item_number,\n      item_name:this.state.item_name,\n      quantity:this.state.quantity,\n      unit_value:this.state.unit_value,\n      subtot:this.state.subtot\n    };\n    this.setState({\n      item_number : this.state.item_number+1,\n      item_set : this.state.item_set.concat(new_item_obj),\n      grand_total:this.state.grand_total+this.state.subtot,\n      item_name : '',\n      quantity : 0.0,\n      unit_value : 0.0,\n      subtot : 0.0\n    });   \n  }\n\n  //removing item\n  removeItem(item_id){\n    console.log(item_id)\n    \n    // this.setState({\n    //   item_number : this.state.item_number+1,\n    //   item_set : this.state.item_set.concat(new_item_obj),\n    //   grand_total:this.state.grand_total+this.state.subtot,\n    //   item_name : '',\n    //   quantity : 0.0,\n    //   unit_value : 0.0,\n    //   subtot : 0.0\n    // });   \n  }\n\n  onChangeGstNumber(e) {\n    this.setState({business_gst_number: e.target.value});\n  }\n\n  //alerting function\n  alertAndTimeout(type,message){\n\n    this.setState({\n      alerting : true,\n      alert_type:type,\n      alert_message:message\n    },()=>setTimeout(\n      function() {\n          this.setState({\n            alerting: false,\n            alert_type:\"\",\n            alert_message:\"\"\n          });\n      }\n      .bind(this),\n      5000\n    ));\n  }\n\n  componentDidMount(){\n    let grandtot = 0.00;\n    this.state.item_set.map((item)=>\n    {grandtot+=item.subtot});\n    this.setState({grand_total:grandtot});\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const obj = {\n      order_name: this.state.order_name,\n      items: this.state.item_set,\n      grand_total: this.state.grand_total,\n      customer_name : this.state.customer_name,\n      address : this.state.address\n    };\n    \n    if(this.state.user_data===null){\n\n      this.props.history.push('/login');\n    \n    }else{\n      const access_token = this.state.user_data.orderapp_user_token;\n      const createOrder = {\n        method: 'post',\n        headers: { Authorization: \"Bearer \" + access_token },\n        data:obj,\n        url:config.ServerAddress+'/order/add',\n      };\n\n      axios(createOrder).then(response => {\n        if(response.data.message===\"sessionExpired\"){\n          this.props.handleLogout(); \n          this.props.history.push('/login');\n\n        }else{\n          if(response.data.order===\"order_successfull\"){\n            this.setState({\n              customer_name: '',\n              order_name: '',\n              item_set: [],\n              address:''\n            },()=>this.alertAndTimeout(\"success\",\"Order Recorder Succefully !\"));\n\n          }else if(response.data===\"order_fail\"){\n            this.alertAndTimeout(\"danger\",\"Order Failed !\")\n          }\n\n        }   \n      }).catch(function (error) {\n        console.log(error);\n      })\n    }\n\n  }\n \n  render() {\n    console.log(this.state.item_set)\n    if(this.state.user_data===null || this.state.user_data===undefined){\n      this.props.history.push('/login');\n    }\n\n    var successful_alert = \n      <div className=\"row \">\n        <div className=\"col-sm\"></div>\n        <div className=\"col-sm\">\n          <div className={\"alert alert-\"+this.state.alert_type} role=\"alert\">\n            {this.state.alert_message}\n          </div>\n        </div>\n        <div className=\"col-sm\"></div>\n      </div>\n    \n    return (\n      \n        <div style={{ marginTop: 10 }}>\n          {this.state.alerting && this.state.alert_type && successful_alert}\n          <h3>Add New Order</h3>\n          <form onSubmit={this.onSubmit}>\n            <div className=\"form-group\">\n              <label>Order Name:  </label>\n                <input type=\"text\" className=\"form-control\" value={this.state.order_name} onChange={this.onChangeOrderName}  />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Items:</label>\n                <table>\n                  <thead>\n                  <tr>\n                    <td className=\"col-l-2\">Name</td>\n                    <td className=\"col-l-2\">Quantity</td>\n                    <td className=\"col-l-2\">Unit Price $</td>\n                    <td className=\"col-l-2\">Sub Total</td>\n                    <td className=\"col-l-2\"></td>\n                    </tr>\n                  </thead>\n                  <tbody>\n                  {this.state.item_set.map((item)=>\n                  <tr key={item.item_number}>\n                    <td>\n                      <input type=\"text\" className=\"form-control\" name={ `name-${ this.props.index }` } value={item.item_name} onChange={this.onChangeItemName} />\n                    </td>\n                    <td>\n                      <input type=\"number\" className=\"form-control\" name={ `quantity-${ this.props.index }` } value={item.quantity} onChange={this.onChangeQuantity} />\n                    </td>\n                    <td>\n                      <input type=\"number\" className=\"form-control\" name={ `unitvalue-${ this.props.index }` } value={item.unit_value} onChange={this.onChangeUnitValue} />\n                    </td>\n                    <td>\n                      <input type=\"text\" className=\"form-control\" name={ `subtot-${ this.props.index }` } readOnly value={item.subtot} onChange={this.onChangeSubTot}/>\n                    </td>\n                    <td>\n                      <button type=\"button\" className=\"close\" onClick={this.removeItem.bind(this,item._id)} aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                      </button>\n                    </td>\n                  </tr>)}\n\n                  <tr>\n                    <td></td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <input type=\"text\" className=\"form-control\" name={ `name-${ this.props.index }` } value={this.state.item_name} onChange={this.onChangeItemName} />\n                    </td>\n                    <td>\n                      <input type=\"number\" className=\"form-control\" name={ `quantity-${ this.props.index }` } value={this.state.quantity} onChange={this.onChangeQuantity} />\n                    </td>\n                    <td>\n                      <input type=\"number\" className=\"form-control\" name={ `unitvalue-${ this.props.index }` } value={this.state.unit_value} onChange={this.onChangeUnitValue} />\n                    </td>\n                    <td>\n                      <input type=\"text\" className=\"form-control\" name={ `subtot-${ this.props.index }` } readOnly value={this.state.subtot} onChange={this.onChangeSubTot}/>\n                    </td>\n                    <td>\n                      <button type=\"button\" className=\"btn btn-success\" onClick={this.addItem} >Add</button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <div className=\"form-group\">\n              <h3>Total</h3>\n              <label>{this.state.grand_total}</label>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Customer Name: </label>\n              <input type=\"text\" className=\"form-control\" value={this.state.customer_name} onChange={this.onChangeCustomerName} />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Address: </label>\n              <input type=\"text\" className=\"form-control\" value={this.state.address} onChange={this.onChangeAddress} />\n            </div>\n                \n            <div className=\"form-group\">\n              <input type=\"submit\" value=\"Place Order\" className=\" btn btn-primary\"/>\n            </div>\n          </form>\n        </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}