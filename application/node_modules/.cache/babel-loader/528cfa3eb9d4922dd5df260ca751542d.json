{"ast":null,"code":"import _classCallCheck from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/malshanw/Documents/ColaProjects/orderapp/application/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/malshanw/Documents/ColaProjects/orderapp/application/src/components/create.component.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nvar config = require('../config.json');\n\nvar Create =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Create, _Component);\n\n  function Create(props) {\n    var _this;\n\n    _classCallCheck(this, Create);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Create).call(this, props));\n\n    _this.onChangeOrderName = function (e) {\n      _this.setState({\n        order_name: e.target.value\n      });\n    };\n\n    _this.onChangeOrderName = _this.onChangeOrderName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeItemName = _this.onChangeItemName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeQuantity = _this.onChangeQuantity.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeUnitValue = _this.onChangeUnitValue.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeCustomerName = _this.onChangeCustomerName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeAddress = _this.onChangeAddress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addItem = _this.addItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.alertAndTimeout = _this.alertAndTimeout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      order_name: '',\n      item_name: '',\n      address: '',\n      customer_name: '',\n      grand_total: 0.00,\n      quantity: 0.0,\n      unit_value: 0.0,\n      subtot: 0.0,\n      item_set: [],\n      item_number: 0,\n      new_item_obj: {},\n      user_data: JSON.parse(localStorage.getItem('user_data')),\n      alert_type: \"\",\n      alert_message: \"\",\n      alerting: false\n    };\n    return _this;\n  }\n\n  _createClass(Create, [{\n    key: \"onChangeItemName\",\n    value: function onChangeItemName(e) {\n      this.setState({\n        item_name: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeQuantity\",\n    value: function onChangeQuantity(e) {\n      var _this2 = this;\n\n      this.setState({\n        quantity: e.target.value\n      }, function () {\n        return _this2.setState({\n          subtot: _this2.state.unit_value * _this2.state.quantity\n        });\n      });\n    }\n  }, {\n    key: \"onChangeUnitValue\",\n    value: function onChangeUnitValue(e) {\n      var _this3 = this;\n\n      this.setState({\n        unit_value: e.target.value,\n        subtot: this.state.unit_value * this.state.quantity\n      }, function () {\n        return _this3.setState({\n          subtot: _this3.state.unit_value * _this3.state.quantity\n        });\n      });\n    }\n  }, {\n    key: \"onChangeSubTot\",\n    value: function onChangeSubTot(e) {\n      this.setState({\n        subtot: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeCustomerName\",\n    value: function onChangeCustomerName(e) {\n      this.setState({\n        customer_name: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeAddress\",\n    value: function onChangeAddress(e) {\n      this.setState({\n        address: e.target.value\n      });\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(callback) {\n      var new_item_obj = {\n        item_number: this.state.item_number,\n        item_name: this.state.item_name,\n        quantity: this.state.quantity,\n        unit_value: this.state.unit_value,\n        subtot: this.state.subtot\n      };\n      this.setState({\n        item_number: this.state.item_number + 1,\n        item_set: this.state.item_set.concat(new_item_obj),\n        grand_total: this.state.grand_total + this.state.subtot,\n        item_name: '',\n        quantity: 0.0,\n        unit_value: 0.0,\n        subtot: 0.0\n      });\n    }\n  }, {\n    key: \"onChangeGstNumber\",\n    value: function onChangeGstNumber(e) {\n      this.setState({\n        business_gst_number: e.target.value\n      });\n    }\n  }, {\n    key: \"alertAndTimeout\",\n    value: function alertAndTimeout(type, message) {\n      var _this4 = this;\n\n      this.setState({\n        alerting: true,\n        alert_type: type,\n        alert_message: message\n      }, function () {\n        return setTimeout(function () {\n          this.setState({\n            alerting: false,\n            alert_type: \"\",\n            alert_message: \"\"\n          });\n        }.bind(_this4), 5000);\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this5 = this;\n\n      e.preventDefault();\n      var obj = {\n        order_name: this.state.order_name,\n        items: this.state.item_set,\n        grand_total: this.state.grand_total,\n        customer_name: this.state.customer_name,\n        address: this.state.address\n      };\n\n      if (this.state.user_data === null) {\n        this.props.history.push('/login');\n      } else {\n        var access_token = this.state.user_data.orderapp_user_token;\n        var createOrder = {\n          method: 'post',\n          headers: {\n            Authorization: \"Bearer \" + access_token\n          },\n          data: obj,\n          url: config.ServerAddress + '/order/add'\n        };\n        axios(createOrder).then(function (response) {\n          if (response.data.message === \"sessionExpired\") {\n            _this5.props.handleLogout();\n\n            _this5.props.history.push('/login');\n          } else {\n            if (response.data.order === \"order_successfull\") {\n              _this5.setState({\n                customer_name: '',\n                order_name: '',\n                item_set: [],\n                address: ''\n              }, function () {\n                return _this5.alertAndTimeout(\"success\", \"Order Recorder Succefully !\");\n              });\n            } else if (response.data === \"order_fail\") {\n              _this5.alertAndTimeout(\"danger\", \"Order Failed !\");\n            }\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.user_data === null || this.state.user_data === undefined) {\n        this.props.history.push('/login');\n      }\n\n      var successful_alert = React.createElement(\"div\", {\n        className: \"row \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"alert alert-\" + this.state.alert_type,\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, this.state.alert_message)), React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }));\n      return React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, this.state.alerting && this.state.alert_type && successful_alert, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"Add New Order\"), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Order Name:  \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.order_name,\n        onChange: this.onChangeOrderName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Items: \"), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-l-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"td\", {\n        className: \"col-l-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, \"Quantity\"), React.createElement(\"td\", {\n        className: \"col-l-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Unit Price $\"), React.createElement(\"td\", {\n        className: \"col-l-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Sub Total\")), this.state.item_set.map(function (item) {\n        return React.createElement(\"tr\", {\n          key: item.item_number,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"col-l-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, item.item_name), React.createElement(\"td\", {\n          className: \"col-l-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, item.quantity), React.createElement(\"td\", {\n          className: \"col-l-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, item.unit_value), React.createElement(\"td\", {\n          className: \"col-l-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, item.subtot));\n      }), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, \"  \")), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"name-\".concat(this.props.index),\n        value: this.state.item_name,\n        onChange: this.onChangeItemName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        name: \"quantity-\".concat(this.props.index),\n        value: this.state.quantity,\n        onChange: this.onChangeQuantity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        name: \"unitvalue-\".concat(this.props.index),\n        value: this.state.unit_value,\n        onChange: this.onChangeUnitValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"subtot-\".concat(this.props.index),\n        readOnly: true,\n        value: this.state.subtot,\n        onChange: this.onChangeSubTot,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-success\",\n        onClick: this.addItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, \"Add\")))))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Total\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, this.state.grand_total)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, \"Customer Name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.customer_name,\n        onChange: this.onChangeCustomerName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, \"Address: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.address,\n        onChange: this.onChangeAddress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Place Order\",\n        className: \" btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Create;\n}(Component);\n\nexport { Create as default };","map":{"version":3,"sources":["/home/malshanw/Documents/ColaProjects/orderapp/application/src/components/create.component.jsx"],"names":["React","Component","axios","config","require","Create","props","onChangeOrderName","e","setState","order_name","target","value","bind","onChangeItemName","onChangeQuantity","onChangeUnitValue","onChangeCustomerName","onChangeAddress","addItem","alertAndTimeout","onSubmit","state","item_name","address","customer_name","grand_total","quantity","unit_value","subtot","item_set","item_number","new_item_obj","user_data","JSON","parse","localStorage","getItem","alert_type","alert_message","alerting","callback","concat","business_gst_number","type","message","setTimeout","preventDefault","obj","items","history","push","access_token","orderapp_user_token","createOrder","method","headers","Authorization","data","url","ServerAddress","then","response","handleLogout","order","catch","error","console","log","undefined","successful_alert","marginTop","map","item","index","onChangeSubTot"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst config = require('../config.json');\n\n\n\nexport default class Create extends Component {\n  constructor(props) {\n    super(props);\n    \n\n    this.onChangeOrderName = this.onChangeOrderName.bind(this);\n    this.onChangeItemName = this.onChangeItemName.bind(this);\n    this.onChangeQuantity = this.onChangeQuantity.bind(this);\n    this.onChangeUnitValue = this.onChangeUnitValue.bind(this);\n    this.onChangeCustomerName = this.onChangeCustomerName.bind(this);\n    this.onChangeAddress = this.onChangeAddress.bind(this);\n    this.addItem = this.addItem.bind(this);\n    this.alertAndTimeout = this.alertAndTimeout.bind(this);\n    \n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      order_name: '',\n      item_name: '',\n      address:'',\n      customer_name:'',\n      grand_total:0.00,\n      quantity:0.0,\n      unit_value:0.0,\n      subtot:0.0,\n      item_set:[],\n      item_number:0,\n      new_item_obj:{\n\n      },\n      user_data:JSON.parse(localStorage.getItem('user_data')),\n      alert_type:\"\",\n      alert_message:\"\",\n      alerting : false\n    }\n  }\n  onChangeOrderName = (e)=> {\n    this.setState({\n      order_name: e.target.value\n    });\n  };\n  onChangeItemName(e) {\n    this.setState({\n      item_name: e.target.value\n    })  \n  }\n  onChangeQuantity(e) {\n    \n    \n    this.setState({\n      quantity: e.target.value,\n      \n \n    },()=>this.setState({\n      subtot:this.state.unit_value * this.state.quantity\n\n    }))\n    \n    \n    \n  }\n  onChangeUnitValue(e) {\n    this.setState({\n      unit_value: e.target.value,\n      subtot:this.state.unit_value * this.state.quantity\n    },()=>this.setState({\n      subtot:this.state.unit_value * this.state.quantity\n      \n\n    }))  \n  }\n  onChangeSubTot(e) {\n    this.setState({\n     subtot: e.target.value\n    })\n  }\n  onChangeCustomerName(e) {\n    this.setState({\n     customer_name: e.target.value\n    })\n  }\n  onChangeAddress(e){\n    this.setState({\n      address:e.target.value\n    })\n  }\n  addItem(callback){\n    \n    const new_item_obj={\n      item_number:this.state.item_number,\n      item_name:this.state.item_name,\n      quantity:this.state.quantity,\n      unit_value:this.state.unit_value,\n      subtot:this.state.subtot\n\n    };\n    this.setState({\n      item_number : this.state.item_number+1,\n      item_set : this.state.item_set.concat(new_item_obj),\n      grand_total:this.state.grand_total+this.state.subtot,\n      item_name : '',\n      quantity : 0.0,\n      unit_value : 0.0,\n      subtot : 0.0\n    });\n    \n    \n\n    \n    \n    \n  }\n  onChangeGstNumber(e) {\n    this.setState({\n      business_gst_number: e.target.value\n    })\n  }\n  \n\n  alertAndTimeout(type,message){\n\n    this.setState({\n      alerting : true,\n      alert_type:type,\n      alert_message:message\n    },()=>setTimeout(\n      function() {\n          this.setState({\n            alerting: false,\n            alert_type:\"\",\n            alert_message:\"\"\n          \n          \n          \n          });\n      }\n      .bind(this),\n      5000\n  ));\n\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const obj = {\n      order_name: this.state.order_name,\n      items: this.state.item_set,\n      grand_total: this.state.grand_total,\n      customer_name : this.state.customer_name,\n      address : this.state.address\n    };\n    \n    \n    \n\n    if(this.state.user_data===null){\n        \n        \n        \n      this.props.history.push('/login');\n    \n    }else{\n      const access_token = this.state.user_data.orderapp_user_token;\n\n    const createOrder = {\n      method: 'post',\n      headers: { Authorization: \"Bearer \" + access_token },\n      data:obj,\n      \n      \n      url:config.ServerAddress+'/order/add',\n    };\n\n    axios(createOrder).then(response => {\n      if(response.data.message===\"sessionExpired\"){\n        this.props.handleLogout();\n        \n        this.props.history.push('/login');\n\n      }else{\n        \n        \n        if(response.data.order===\"order_successfull\"){\n          \n          \n          this.setState({\n            customer_name: '',\n            order_name: '',\n            item_set: [],\n            address:''\n          },()=>this.alertAndTimeout(\"success\",\"Order Recorder Succefully !\"));\n          \n          \n\n        }else if(response.data===\"order_fail\"){\n          this.alertAndTimeout(\"danger\",\"Order Failed !\")\n\n        }\n        \n        \n        \n        \n      }\n     \n        \n      }).catch(function (error) {\n        console.log(error);\n      })\n      \n    }\n\n\n\n\n\n    \n    \n  }\n \n  render() {\n    if(this.state.user_data===null || this.state.user_data===undefined){\n      this.props.history.push('/login');\n    \n    }\n    var successful_alert = \n      <div className=\"row \">\n        <div className=\"col-sm\">\n        \n        </div>\n        <div className=\"col-sm\">\n\n          <div className={\"alert alert-\"+this.state.alert_type} role=\"alert\">\n            {this.state.alert_message}\n          </div>\n        \n        </div>\n        <div className=\"col-sm\">\n        \n        </div>\n        \n      </div>\n    \n    return (\n      \n        <div style={{ marginTop: 10 }}>\n        {this.state.alerting && this.state.alert_type && successful_alert}\n          \n            <h3>Add New Order</h3>\n            <form onSubmit={this.onSubmit}>\n                <div className=\"form-group\">\n                    <label>Order Name:  </label>\n                    <input \n                      type=\"text\" \n                      className=\"form-control\" \n                      value={this.state.order_name}\n                      onChange={this.onChangeOrderName}\n                      />\n                </div>\n                <div className=\"form-group\">\n                    <label>Items: </label>\n                    <table>\n                      <tbody>\n                      <tr>\n                        <td className=\"col-l-2\">Name</td>\n                        <td className=\"col-l-2\">Quantity</td>\n                        <td className=\"col-l-2\">Unit Price $</td>\n                        <td className=\"col-l-2\">Sub Total</td>\n                      </tr>\n\n                        {this.state.item_set.map((item)=><tr key={item.item_number}>\n                          <td className=\"col-l-2\">{item.item_name}</td>\n                          <td className=\"col-l-2\">{item.quantity}</td>\n                          <td className=\"col-l-2\">{item.unit_value}</td>\n                          <td className=\"col-l-2\">{item.subtot}</td>\n                        </tr>)}\n\n                      \n                      \n                      <tr>\n                        <td>  </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <input type=\"text\" \n                          className=\"form-control\"\n                          name={ `name-${ this.props.index }` } \n                          value={this.state.item_name}\n                          onChange={this.onChangeItemName}\n                          />\n                          </td>\n                          <td>\n                          <input type=\"number\" \n                          className=\"form-control\"\n                          name={ `quantity-${ this.props.index }` }\n                          value={this.state.quantity}\n                          onChange={this.onChangeQuantity}\n                          />\n                          </td>\n                          <td>\n                          <input type=\"number\" \n                          className=\"form-control\"\n                          name={ `unitvalue-${ this.props.index }` }\n                          value={this.state.unit_value}\n                          onChange={this.onChangeUnitValue}\n                          />\n                          </td>\n                          <td>\n                          <input type=\"text\" \n                          className=\"form-control\"\n                          name={ `subtot-${ this.props.index }` }\n                          readOnly \n                          value={this.state.subtot}\n                          onChange={this.onChangeSubTot}/>\n                          </td>\n\n                          <td>\n                            <button type=\"button\" className=\"btn btn-success\" onClick={this.addItem} >Add</button>\n                          </td>\n                        </tr>\n                      \n                      </tbody>\n                      </table>\n                    \n                </div>\n\n                <div className=\"form-group\">\n                  <h3>Total</h3>\n                    <label>{this.state.grand_total}</label>\n                    \n                </div>\n\n                <div className=\"form-group\">\n                    <label>Customer Name: </label>\n                    <input type=\"text\" \n                      className=\"form-control\"\n                      value={this.state.customer_name}\n                      onChange={this.onChangeCustomerName}\n                      />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Address: </label>\n                    <input type=\"text\" \n                      className=\"form-control\"\n                      value={this.state.address}\n                      onChange={this.onChangeAddress}\n                      />\n                </div>\n                \n                \n                <div className=\"form-group\">\n                    <input type=\"submit\" value=\"Place Order\" className=\" btn btn-primary\"/>\n                </div>\n            </form>\n        </div>\n    )\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}